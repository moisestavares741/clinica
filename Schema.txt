-- 1. Tabela de Pacientes
CREATE TABLE PACIENTES (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    NOME VARCHAR(255) NOT NULL,
    DATA_NASCIMENTO DATE,
    CPF VARCHAR(14) NOT NULL UNIQUE,
    TELEFONE VARCHAR(20),
    ENDERECO VARCHAR(255),
    EMAIL VARCHAR(255) UNIQUE,
    CONVENIO BOOLEAN DEFAULT FALSE,
    QUAL_CONVENIO VARCHAR(100),
    TRATAMENTO VARCHAR(500)
);

-- 2. Tabela de MÃ©dicos
CREATE TABLE MEDICOS (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    NOME VARCHAR(255) NOT NULL,
    DATA_NASCIMENTO DATE,
    CPF VARCHAR(14) NOT NULL UNIQUE,
    TELEFONE VARCHAR(20),
    ENDERECO VARCHAR(255),
    EMAIL VARCHAR(255) UNIQUE,
    CRM VARCHAR(50) NOT NULL UNIQUE,
    ESPECIALIDADE VARCHAR(100) NOT NULL,
    SALARIO DECIMAL(10, 2)
);

-- 3. Tabela do Caixa
CREATE TABLE CAIXA (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    SALDO DECIMAL(12, 2) NOT NULL DEFAULT 0.00,
    VALOR_CONSULTA DECIMAL(10, 2) NOT NULL DEFAULT 0.00
);

-- 4. Tabela de Agenda (com as chaves estrangeiras)
CREATE TABLE AGENDA (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    PACIENTE_ID BIGINT NOT NULL,
    MEDICO_ID BIGINT NOT NULL,
    DATA_HORA_AGENDAMENTO TIMESTAMP NOT NULL,
    STATUS VARCHAR(50) NOT NULL DEFAULT 'Agendado',
    
    -- Chave estrangeira para a tabela PACIENTES
    FOREIGN KEY (PACIENTE_ID) REFERENCES PACIENTES(ID),
    
    -- Chave estrangeira para a tabela MEDICOS
    FOREIGN KEY (MEDICO_ID) REFERENCES MEDICOS(ID)
);